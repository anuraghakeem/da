#include<stdio.h>
#include<stdlib.h>
#defineMAX100
#defineHEAP_FULL(n)(n==MAX-1)
#defineHEAP_EMPTY(n)(!n)
typedefstruct{
intkey;
}element;
elementheap[MAX];
voidinsert(elementitem,int*n)
{
inti;
if(HEAP_FULL(*n))
printf("Heapisfull\n");
else
{
i=++(*n);
while((i!=1)&&(item.key>heap[i/2].key))
{
heap[i]=heap[i/2];
i=i/2;
}
heap[i]=item;
}
}
elementheapEmpty()
{
elementitem;
item.key=-999;
printf("Theheapisempty\n");
returnitem;
}
elementdelete_heap(int*n)
{
intparent,child;
elementitem,temp;
if(HEAP_EMPTY(*n))
returnheapEmpty();
temp=heap[(*n)--];
item=heap[1];
parent=1;
child=2;
while(child<=*n)
{
if((child<*n)&&(heap[child].key<heap[child+1].key))
child++;
if(temp.key>=heap[child].key)
break;
heap[parent]=heap[child];
parent=child;
child=child*2;
}
heap[parent]=temp;
returnitem;
}
voiddisplay(intn)

{
inti;
if(HEAP_EMPTY(n))
heapEmpty();
else
{
for(i=1;i<=n;i++)
printf("%d",heap[i].key);
printf("\n");
}
}
intmain()
{
elementitem;
intchoice,n=0;
while(1)
{
printf("MENU:\n1.Insertanitem\n2.Deleteanitem\n3.DisplaytheHeap\n");
scanf("%d",&choice);
switch(choice)
{
case1:
printf("Enterthevalue:");
scanf("%d",&item.key);
insert(item,&n);
break;
case2:
item=delete_heap(&n);
if(item.key!=-999)
printf("Elementdeletedis%d\n",item.key);
break;
case3:
display(n);
break;
default:
exit(0);
}
}
}
