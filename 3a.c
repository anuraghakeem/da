#include<stdio.h>
#include<string.h>
intfailure[100];
voidfail(charpat[])
{
inti,j,n;
failure[0]=-1;
n=strlen(pat);
for(j=1;j<n;j++)
{
i=failure[j-1];
while(i>=0&&pat[j]!=pat[i+1])
i=failure[i];
if(pat[j]==pat[i+1])
failure[j]=i+1;
else
failure[j]=-1;
}
}
intpmatch(charstr[],charpat[])
{
inti=0,j=0;
intlens=strlen(str),lenp=strlen(pat);
while(i<lens&&j<lenp)
{
if(str[i]==pat[j])
{
i++;

j++;
}
elseif(j==0)
i++;
else
j=failure[j-1]+1;
}
return(j==lenp)?(i-lenp):-1;
}
voidmain()
{
inti;
charpat[10],str[100];
printf("Enterthestringandpattern:");
scanf("%s%s",str,pat);
fail(pat);
printf("Failurevalues\n");
for(i=0;i<strlen(pat);i++)
printf("%d",failure[i]);
printf("\n");
intp=pmatch(str,pat);
if(p==-1)
printf("Patternnotfound\n");
else
printf("Patternfoundat%d\n",i);
}
